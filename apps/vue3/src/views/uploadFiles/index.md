- https://juejin.cn/post/7475978280839954468#heading-17
  为啥不用webworker

1. 预先创建web worker：快速启动 Web Worker 执行任务(这里3个)
2. 为每个上传的文件分配一个或多个 Web Worker：一个文件分配3个webworker， 多个文件按照顺序分配1个，其余的等待

3. Web Worker 分配策略：

- 使用固定大小的 Worker 池（最多 4 个），避免创建过多 Worker 导致资源耗尽
- 采用任务队列机制，当 Worker 空闲时自动处理队列中的下一个任务
- 每个文件上传任务会占用一个 Worker，直到完成或暂停

2. 边切片边上传机制：

- 切片和上传并行处理，一个切片处理完成后立即开始上传
- 上传过程中实时计算进度并更新 UI
- 每个切片单独处理和上传，便于实现断点续传

3. 暂停 / 恢复功能：
   暂停时会释放 Worker 资源，让其处理其他任务
   恢复时将任务重新加入队列，等待空闲 Worker
   保持已完成的切片状态，恢复后从断点继续上传
   优化：Worker 始终在池中循环利用，即使任务暂停，Worker 也不会被销毁，而是转为 “空闲” 状态等待新任务（可能是恢复的原任务或新任务）。
4. 状态管理：
   维护每个文件的上传状态（等待、上传中、暂停、完成、错误）
   实时更新进度条和状态文本
   提供直观的操作按钮（暂停 / 恢复）

   内存消耗的问题
